{"version":3,"sources":["app.js"],"names":["confirmDelete","formEl","confirm","slides","btnPrev","btnNext","dotsBox","dots","i","timer","hero","document","querySelector","go","idx","classList","remove","length","add","track","Array","prototype","slice","call","querySelectorAll","findIndex","s","contains","addEventListener","forEach","d","parseInt","getAttribute","setInterval","clearInterval","style","display","KEY","modal","btnX","btnGo","closeModal","setAttribute","body","localStorage","setItem","location","pathname","getItem","getElementById","e","target","key","bindImagePreview","inputId","previewId","input","preview","reader","f","this","files","FileReader","onload","backgroundImage","result","readAsDataURL","btn","menu","setOpen","v","toggle","isOpen","stopPropagation"],"mappings":"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","file":"app.js","sourcesContent":["// ========== Slider (sem libs) ==========\n(function(){\n  var hero = document.querySelector('[data-hero]');\n  if (!hero) return;\n\n  var track  = hero.querySelector('[data-hero-track]');\n  var slides = Array.prototype.slice.call(track.querySelectorAll('.hero-slide'));\n  if (!slides.length) return;\n\n  var btnPrev = hero.querySelector('[data-hero-prev]');\n  var btnNext = hero.querySelector('[data-hero-next]');\n  var dotsBox = hero.querySelector('[data-hero-dots]');\n  var dots    = Array.prototype.slice.call(dotsBox.querySelectorAll('.hero-dot'));\n\n  var i = slides.findIndex(function(s){ return s.classList.contains('is-active'); });\n  if (i < 0) i = 0;\n\n  function go(idx){\n    slides[i].classList.remove('is-active');\n    if (dots[i]) dots[i].classList.remove('is-active');\n\n    i = (idx + slides.length) % slides.length;\n\n    slides[i].classList.add('is-active');\n    if (dots[i]) dots[i].classList.add('is-active');\n  }\n\n  if (btnPrev) btnPrev.addEventListener('click', function(){ go(i-1); });\n  if (btnNext) btnNext.addEventListener('click', function(){ go(i+1); });\n\n  dots.forEach(function(d){\n    d.addEventListener('click', function(){\n      var to = parseInt(d.getAttribute('data-hero-dot'), 10) || 0;\n      go(to);\n    });\n  });\n\n  var timer = setInterval(function(){ go(i+1); }, 5000);\n  hero.addEventListener('mouseenter', function(){ clearInterval(timer); });\n  hero.addEventListener('mouseleave', function(){ timer = setInterval(function(){ go(i+1); }, 5000); });\n\n  // Com 1 slide não mostra setas/dots\n  if (slides.length <= 1) {\n    if (btnPrev)  btnPrev.style.display = 'none';\n    if (btnNext)  btnNext.style.display = 'none';\n    if (dotsBox)  dotsBox.style.display = 'none';\n  }\n})();\n\n// ========== Modal 1º acesso (Home, estilo do layout) ==========\n(function(){\n  try {\n    if (location.pathname !== \"/\") return; // só na Home (remova se quiser global)\n    var KEY = \"revvo_first_visit\";\n    if (localStorage.getItem(KEY)) return;\n\n    var modal = document.getElementById(\"firstVisitModal\");\n    if (!modal) return;\n\n    var btnX  = document.getElementById(\"firstModalClose\");\n    var btnGo = document.getElementById(\"firstModalCta\");\n\n    function openModal(){\n      modal.style.display = \"flex\";\n      modal.setAttribute(\"aria-hidden\", \"false\");\n      document.body.classList.add(\"no-scroll\");\n    }\n    function closeModal(){\n      modal.style.display = \"none\";\n      modal.setAttribute(\"aria-hidden\", \"true\");\n      document.body.classList.remove(\"no-scroll\");\n      localStorage.setItem(KEY, \"1\"); // marcou que já viu\n    }\n\n    openModal();\n    if (btnX)  btnX.addEventListener(\"click\", closeModal);\n    if (btnGo) btnGo.addEventListener(\"click\", closeModal);\n\n    modal.addEventListener(\"click\", function(e){\n      if (e.target === modal) closeModal(); // clique fora\n    });\n    document.addEventListener(\"keydown\", function(e){\n      if (e.key === \"Escape\") closeModal(); // ESC\n    });\n  } catch(e){}\n})();\n\n// ========== Preview de imagem genérico (Slide/Course) ==========\n(function(){\n  function bindImagePreview(inputId, previewId){\n    var input = document.getElementById(inputId);\n    var preview = document.getElementById(previewId);\n    if (!input || !preview) return;\n\n    input.addEventListener('change', function(){\n      var f = this.files && this.files[0];\n      if (!f) return;\n      var reader = new FileReader();\n      reader.onload = function(e){\n        preview.style.backgroundImage = 'url(' + e.target.result + ')';\n      };\n      reader.readAsDataURL(f);\n    });\n  }\n\n  // Slide (create/edit)\n  bindImagePreview('slideImageInput', 'slideImagePreview');\n  // Course (edit)\n  bindImagePreview('courseImageInput', 'courseImagePreview');\n})();\n\n(function(){\n  var btn  = document.getElementById('userMenuBtn');\n  var menu = document.getElementById('userDropdown');\n  if (!btn || !menu) return;\n\n  function setOpen(v){\n    menu.classList.toggle('is-open', v);\n    btn.setAttribute('aria-expanded', v ? 'true' : 'false');\n  }\n  function isOpen(){ return menu.classList.contains('is-open'); }\n\n  btn.addEventListener('click', function(e){\n    e.stopPropagation();\n    setOpen(!isOpen());\n  });\n\n  document.addEventListener('click', function(e){\n    if (!isOpen()) return;\n    if (!menu.contains(e.target) && e.target !== btn) setOpen(false);\n  });\n\n  document.addEventListener('keydown', function(e){\n    if (e.key === 'Escape') setOpen(false);\n  });\n})();\n\nfunction confirmDelete(formEl){ return confirm('Tem certeza que deseja excluir este item?'); }"]}